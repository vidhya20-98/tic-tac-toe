<!DOCTYPE html>

<html>
<head>
  <meta charset="UTF-8">
  <title>Tic Tac Toe</title>
  <link href="https://fonts.googleapis.com/css?family=Lato:100,300,600" rel="stylesheet" type="text/css">
  <link href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css">
 
  <link rel="stylesheet" href="tictactoe.css">
  <style>
    td {
    border:  2px solid #333;
    height:  100px;
    width:  100px;
    text-align:  center;
    vertical-align:  middle;
    font-family:  "Comic Sans MS", cursive, sans-serif;
    font-size:  70px;
    cursor: pointer;
}

table {
    border-collapse: collapse;
    position: absolute;
    left: 50%;
    margin-left: -155px;
    top: 50px;
}

table tr:first-child td {
    border-top: 0;
}

table tr:last-child td {
    border-bottom: 0;
}

table tr td:first-child {
    border-left: 0;
}

table tr td:last-child {
    border-right: 0;
}
</style>

</head>

<body>

	<table>
		<tr>
			<td class="cell" id="1"></td>
			<td class="cell" id="2"></td>
			<td class="cell" id="3"></td>
		</tr>
		<tr>
			<td class="cell" id="4"></td>
			<td class="cell" id="5"></td>
			<td class="cell" id="6"></td>
		</tr>
		<tr>
			<td class="cell" id="7"></td>
			<td class="cell" id="8"></td>
			<td class="cell" id="9"></td>
		</tr>
    </table>
    
	<div>PLAYER-1
        <div class="Player-0"></div>
    </div>
    <div>PLAYER-2
        <div class="Player-1"></div>
    </div>
    <div class="winner"></div>
    <button class="btn-new"><i class="ion-ios-plus-outline"></i>New game</button>
    <button class="btn-chance"><i class="ion-ios-loop"></i>Next Chance</button>

  <script>
      var currentplayer,inputvalue,XandO,flag;
var person=[[1,2,3,4,5,6,7,8,9],[1,2,3,4,5,6,7,8,9]];

currentplayer=0;
XandO='X';

startingfunc();

document.querySelector('.btn-chance').addEventListener('click', function() {

    if(flag){
        //Input Value from User
    inputvalue = prompt(`Enter you Slot Player ${currentplayer}`);

    //Check if already present
    if(person[0][inputvalue-1] == 0 || person[1][inputvalue-1] == 0){
        alert('Already Entered');
    }else{

        //Update the UI
        document.getElementById(inputvalue).textContent = XandO;

        person[currentplayer][inputvalue-1] = 0;
        
        //Check for the Winner
        if((person[0][0] == 0 && person[0][1] == 0 && person[0][2] == 0 ) ||
        (person[0][0] == 0 && person[0][3] == 0 && person[0][6] == 0 ) ||
        (person[0][0] == 0 && person[0][4] == 0 && person[0][8] == 0 ) ||
        (person[0][1] == 0 && person[0][4] == 0 && person[0][7] == 0 ) ||
        (person[0][2] == 0 && person[0][5] == 0 && person[0][8] == 0 ) ||
        (person[0][2] == 0 && person[0][4] == 0 && person[0][6] == 0 ) ||
        (person[0][3] == 0 && person[0][4] == 0 && person[0][5] == 0 ) ||
        (person[0][6] == 0 && person[0][7] == 0 && person[0][8] == 0 ) ||
        (person[1][0] == 0 && person[1][1] == 0 && person[1][2] == 0 ) ||
        (person[1][0] == 0 && person[1][3] == 0 && person[1][6] == 0 ) ||
        (person[1][0] == 0 && person[1][4] == 0 && person[1][8] == 0 ) ||
        (person[1][1] == 0 && person[1][4] == 0 && person[1][7] == 0 ) ||
        (person[1][2] == 0 && person[1][5] == 0 && person[1][8] == 0 ) ||
        (person[1][2] == 0 && person[1][4] == 0 && person[1][6] == 0 ) ||
        (person[1][3] == 0 && person[1][4] == 0 && person[1][5] == 0 ) ||
        (person[1][6] == 0 && person[1][7] == 0 && person[1][8] == 0 ) ){
            console.log("Winner - PLAYER " + currentplayer);
            document.querySelector('.winner').textContent='GAMEOVER PLAYER:'+currentplayer+'win'
            document.querySelector('.Player-' + currentplayer).textContent="1";
            currentplayer == 0 ? currentplayer=1 : currentplayer=0;
            document.querySelector('.Player-' + currentplayer).textContent="0";
            flag = false;
        }

         //Toogle the Player
         currentplayer == 0 ? currentplayer=1 : currentplayer=0;
         XandO == 'X' ? XandO='O' : XandO='X';
 


    }
    }

})


document.querySelector('.btn-new').addEventListener('click', startingfunc);



function startingfunc() {
    
    //Setting all columns and rows to empty value
    var i;
    for(i=1;i<=9;i++){
        document.getElementById(i).textContent = '';
    }

    //Updating players array
    for(i=0;i<=8;i++){
        person[0][i] = i+1;
        person[1][i] = i+1;
    }

    flag = true; 


}
  </script>
</body>
</html>



